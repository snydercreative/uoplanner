"use strict";var namespacer=function(e){var l=e.split("."),t=window;if(l.length)for(var a=0;a<l.length;a++){var n=l[a];void 0===t[n]&&(t[n]={}),t=t[n]}},skillsApp=angular.module("skillsApp",[]);skillsApp.factory("skillListService",["$http",function(e){return{getAll:function(l){e.get("/data/skills.json").then(function(e){l(e.data.skills)},function(e){console.log(e)})}}}]),skillsApp.factory("templateService",["$http",function(e){return{save:function(l,t,a,n){var s={skills:l,templateName:t,templateId:a};e.post("http://localhost:1234/api/v1/template/save",s).then(function(e){n(e.data)},function(e){console.log(e)})}}}]),skillsApp.controller("BuildCtrl",["templateService","skillListService",function(e,l){var t=this;t.skills=[],t.templateName="",t.urlName="",t.templateId="",t.skillList=[],l.getAll(function(e){t.skillList=e});new Clipboard("#sharing button");angular.element("#sharing button").on("click",function(e){var l=angular.element(e.currentTarget);l.text("Copied!").animate({top:"-50px",opacity:0},250,function(){l.text("Copy").animate({top:0,opacity:1},250)})}),t.setSkillInput=function(e){t.skillName=e.skill,angular.element(".skill-modal .skill-list").slideUp(250)},t.displaySkillList=function(){angular.element(".skill-modal .skill-list").slideDown(250)},t.displayAddSkillModal=function(){t.skillName="",angular.element(".skill-modal").closest(".modal-wrapper").addClass("active")},t.displayTemplateNameModal=function(){angular.element(".name-modal").closest(".modal-wrapper").addClass("active")},t.dismissModal=function(){angular.element(".modal-wrapper.active").removeClass("active")},t.addSkill=function(e){e.name&&e.value>0?(t.skills.push(e),angular.element(".skill-modal .skill-list").slideUp(250),t.dismissModal(),a("Your template has unsaved changes.")):a("You must select a skill and set a value greater than 0.",!0)},t.setTemplateName=function(e){e.toLowerCase().trim().replace(/\s/g,"_").replace(/\W/g,"").replace(/_/g,"-").replace(/--/g,"-")?(t.templateName=e,angular.element("#templateName").text(e),t.dismissModal(),a("Your template has unsaved changes.")):a("You must set a valid template name",!0)},t.saveTemplate=function(){t.templateName&&t.skills.length?e.save(t.skills,t.templateName,"",function(e){t.templateId=e.templateId,t.urlName=e.urlName,n(t.templateId,t.urlName)}):a("You must set a template name and add skills to save.",!1)};var a=function(e,l){var t=l?".panel > .modal-warning":"body > .warning",a=angular.element(t);a.find("p").text(e),a.slideDown(250,function(){setTimeout(function(){a.slideUp(250)},3e3)})},n=function(e,l){var t="http://localhost:1234/share/"+e+"/"+l;angular.element("#sharing .link").removeClass("inactive").text(t),angular.element("#sharing button").show()}}]),skillsApp.controller("ShareCtrl",function(){});