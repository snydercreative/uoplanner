{"version":3,"sources":["namespacer.js","ruleManager.js","skillSorter.js","hamburger-navigation.js","skillsApp.js","build/BuildCtrl.js","search/SearchBoxCtrl.js","search/SearchCtrl.js","home/HomeCtrl.js","share/ShareCtrl.js","_services/naughtyService.js","_services/searchService.js","_services/skillListService.js","_services/templateService.js","_directives/rulesetSwitcher/rulesetSwitcher.js"],"names":["namespacer","ns","nsArr","split","parent","window","length","i","nsPart","uoplanner","ruleManager","renaissanceRules","ruleSet","skillMax","skillTotal","outlandsRules","getRules","localStorage","settings","uoplannerRules","JSON","parse","err","console","error","log","setRules","stringify","skillSorter","sort","userSkills","left","right","name","value","hamburgerMenu","$","undefined","searchToggleHandler","event","addClass","createHandler","location","href","searchDismissHandler","removeClass","init","on","jQuery","skillsApp","angular","module","config","$locationProvider","html5Mode","enabled","requireBase","controller","$scope","$location","templateService","skillListService","naughtyService","self","this","skills","templateName","skillList","rangeValue","skillName","urlTemplateId","pathname","urlTemplateUrlName","templateId","encodeURIComponent","urlName","get","results","reduce","acc","curr","getAll","changeView","view","path","switchRulesModalButtonClick","switchRules","dismissModal","Clipboard","element","$target","currentTarget","text","animate","top","opacity","setSkillInput","selectedItem","skill","slideUp","displaySkillList","slideDown","displayAddSkillModal","displaySwitchRulesModal","displayTemplateNameModal","editSkill","foundSkill","filter","warn","removeSkill","$event","$row","closest","attr","skillValue","splice","detach","addSkill","existingSkillIndex","indexOf","push","setTemplateName","toLowerCase","trim","replace","isNameCool","isNaughty","saveTemplate","save","query","updateSharingLink","message","isModal","warningTargetSelector","$warning","find","setTimeout","url","origin","show","callback","skillTags","addSkillTag","search","searchTerms","join","searchService","q","skillResults","nameResults","findSkills","forEach","skillResult","tempDate","Date","lastModified","toLocaleDateString","toLocaleTimeString","$http","recentData","loadTemplates","then","successResponse","process","data","errorResponse","dataArr","shareUrl","factory","findNames","postBody","post","directive","templateUrl","changeRuleset","controllerAs"],"mappings":"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","file":"master.min.js","sourcesContent":["/*\r\n * Creates namespaces safely and conveniently, reusing \r\n * existing objects instead of overwriting them.\r\n */ \r\nconst namespacer = ns => {\r\n\tlet nsArr = ns.split('.'),\r\n\t\tparent = window;\r\n\t\r\n\tif (!nsArr.length)\r\n\t\treturn;\r\n\r\n\tfor (var i = 0; i < nsArr.length; i++) {\r\n\t\tconst nsPart = nsArr[i];\r\n\r\n\t\tif (typeof parent[nsPart] === 'undefined') {\r\n\t\t\tparent[nsPart] = {};\r\n\t\t}\r\n\r\n\t\tparent = parent[nsPart];\r\n\t}\r\n};","namespacer('uoplanner');\r\n\r\nuoplanner.ruleManager = (() => {\r\n    const \r\n        renaissanceRules = {\r\n            ruleSet: 'Renaissance',\r\n            skillMax: 100,\r\n            skillTotal: 700\r\n        },\r\n\r\n        outlandsRules = {\r\n            ruleSet: 'Outlands',\r\n            skillMax: 120,\r\n            skillTotal: 720\r\n        },\r\n\r\n        getRules = () => {\r\n            if (localStorage) {\r\n                const settings = localStorage.uoplannerRules;\r\n                try {\r\n                    return settings && JSON.parse(settings);\r\n                } catch (err) {\r\n                    console.error(err);\r\n                    return {};\r\n                }\r\n            } \r\n            console.log('No localStorage.');\r\n        },\r\n\r\n        setRules = (ruleSet) => {\r\n            if (localStorage) {\r\n                try {\r\n                    if (ruleSet === 'Renaissance') {\r\n                        localStorage.uoplannerRules = JSON.stringify(renaissanceRules);\r\n                    } else {\r\n                        localStorage.uoplannerRules = JSON.stringify(outlandsRules);\r\n                    }\r\n\r\n                    return true;\r\n                } catch (err) {\r\n                    console.error('Error parsing settings form localStorage.');\r\n                    return false;\r\n                }\r\n            } \r\n            console.error('No localStorage.');\r\n        };\r\n\r\n    return {\r\n        getRules,\r\n        setRules\r\n    };\r\n})();","namespacer('uoplanner');\r\n\r\nuoplanner.skillSorter = (() => {\r\n\r\n    /**\r\n     * \r\n     * @param {Array} userSkills \r\n     */\r\n\tconst sort = (userSkills) => {\r\n\t\tuserSkills.sort((left, right) => {\r\n\t\t\tif (left.name > right.name) return 1;\t\t\t\r\n\t\t\tif (left.name < right.name) return -1;\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\t\tuserSkills.sort((left, right) => {\r\n\t\t\tif (left.value > right.value) return -1;\t\t\t\r\n\t\t\tif (left.value < right.value) return 1;\r\n\t\t\treturn 0;\r\n        });\r\n       \r\n        return userSkills;\r\n    }\r\n    \r\n    return {\r\n        sort\r\n    }\r\n})();","namespacer(\"uoplanner\");\r\n\r\nuoplanner.hamburgerMenu = (($, undefined) => {\r\n\r\n\tconst noSearchTermsWarning = \"Please try again with some search terms.\",\r\n\t\t\r\n\t\thamburgerToggleHandler = (event) => {\r\n\t\t\tconst $target = $(event.currentTarget),\r\n\t\t\t\t$wrapper = $target.closest('.hamburger-menu'),\r\n\t\t\t\t$menu = $wrapper.find('nav');\r\n\t\t\t$menu.toggle();\r\n\r\n\t\t\tconsole.log($menu);\r\n\t\t},\r\n\r\n\t\tsearchToggleHandler = event => {\r\n\t\t\t$(\"#template-search-modal\").addClass('active');\r\n\t\t},\r\n\r\n\t\tcreateHandler = event => {\r\n\t\t\twindow.location.href = \"/build\";\r\n\t\t},\r\n\r\n\t\tsearchDismissHandler = event => {\r\n\t\t\t$(\"#template-search-modal\").removeClass('active');\r\n\t\t},\r\n\r\n\t\tinit = () => {\r\n\t\t\t//$('.hamburger-menu button.menu').on('click', hamburgerToggleHandler);\r\n\t\t\t$('.hamburger-menu button.search').on('click', searchToggleHandler);\r\n\t\t\t$('.hamburger-menu button.create').on('click', createHandler);\r\n\t\t\t$('.modal-wrapper.search .close').on('click', searchDismissHandler);\r\n\t\t};\r\n\r\n\treturn { init };\r\n\r\n})(jQuery);\r\n\r\n$(() => { uoplanner.hamburgerMenu.init(); });","const skillsApp = angular.module('skillsApp', ['ngTagsInput'])\r\n\t.config(['$locationProvider', function($locationProvider) {\r\n\t\t$locationProvider.html5Mode({\r\n\t\t\tenabled: true,\r\n\t\t\trequireBase: false\r\n\t\t});\r\n\t}]);","skillsApp.controller('BuildCtrl', ['$scope', '$location', 'templateService', 'skillListService', 'naughtyService', function($scope, $location, templateService, skillListService, naughtyService) {\r\n\r\n\tlet self = this,\r\n\t\tchangesNotSavedWarning = \"Your template has unsaved changes.\",\r\n\t\tmustSetTemplateNameAndSkillsWarning = \"You must set a template name and add skills to save.\",\r\n\t\tmustActuallySetASkillWarning = \"You must select a skill and set a value greater than 0.\",\r\n\t\tinvalidOrMissingNameWarning = \"You must set a valid template name\",\r\n\t\ttemplateSavedWarning = \"Skill template saved!\",\r\n\t\tpickAValidSkillWarning = \"Please pick an actual UO skill.\",\r\n\t\taboveSkillCapWarning = \"This would put you over the skill cap.\",\r\n\t\talreadyHaveSkillWarning = \"You already have that skill.\",\r\n\t\tnaughtyNameWarning = \"Please pick a different name. You know why.\";\r\n\t\t\r\n\tself.uoplannerRules = uoplanner.ruleManager.getRules();\r\n\tself.skills = [];\r\n\tself.templateName = '';\r\n\tself.skillList = [];\r\n\tself.rangeValue = 100;\t\r\n\tself.skillName = '';\r\n\tself.skillTotal = 0;\r\n\r\n\tconst urlTemplateId = window.location.pathname.split('/')[2];\r\n\tconst urlTemplateUrlName = window.location.pathname.split('/')[3];\r\n\r\n\tif (typeof urlTemplateId !== 'undefined' && typeof urlTemplateUrlName !== 'undefined') {\r\n\t\tself.templateId = encodeURIComponent(urlTemplateId);\r\n\t\tself.urlName = encodeURIComponent(urlTemplateUrlName);\r\n\t}\r\n\r\n\tif (self.templateId && self.urlName) {\r\n\t\ttemplateService.get(self.templateId, self.urlName, results => {\r\n\t\t\tself.skills = uoplanner.skillSorter.sort(results.skills);\r\n\t\t\tself.ruleSet = results.ruleSet;\r\n\t\t\tself.skillTotal = self.skills.reduce((acc, curr) => acc + curr.value, 0);\r\n\t\t});\r\n\t}\r\n\r\n\tskillListService.getAll(skillList => {\r\n\t\tself.skillList = skillList;\r\n\t});\r\n\r\n\tself.changeView = function(view){\r\n\t\t$location.path(view); // path not hash\r\n\t}\r\n\r\n\tself.switchRulesModalButtonClick = ruleSet => {\r\n\t\tself.switchRules(ruleSet);\r\n\t\tself.dismissModal();\r\n\t};\r\n\r\n\tself.switchRules = ruleSet => {\r\n\t\tuoplanner.ruleManager.setRules(ruleSet);\r\n\t\tself.skillTotal = 0;\r\n\t\tself.skills = [];\r\n\t\tself.templateName = '';\r\n\t\tself.uoplannerRules = uoplanner.ruleManager.getRules();\r\n\t};\r\n\r\n\tconst clipboard = new Clipboard('#sharing button');\r\n\r\n\tangular.element('#sharing button').on('click', (event) => {\r\n\t\tconst $target = angular.element(event.currentTarget);\r\n\r\n\t\t$target.text(\"Copied!\").animate({\r\n\t\t\ttop: \"-50px\",\r\n\t\t\topacity: 0\r\n\t\t}, 250, () => {\r\n\t\t\t$target.text(\"Copy\").animate({\r\n\t\t\t\ttop: 0,\r\n\t\t\t\topacity: 1\r\n\t\t\t}, 250);\r\n\t\t});\r\n\t});\r\n\r\n\t/***************** */\r\n\r\n\tself.setSkillInput = selectedItem => {\r\n\t\tself.skillName = selectedItem.skill;\r\n\t\tangular.element('.skill-modal .skill-list').slideUp(250);\r\n\t};\r\n\r\n\tself.displaySkillList = () => {\r\n\t\tangular.element('.skill-modal .skill-list').slideDown(250);\r\n\t};\r\n\r\n\tself.displayAddSkillModal = () => {\r\n\t\tself.skillName = '';\r\n\t\tangular.element('#skills-modal').addClass('active');\r\n\t};\r\n\r\n\tself.displaySwitchRulesModal = () => {\r\n\t\tself.skillName = '';\r\n\t\tangular.element('#rule-switch-modal').addClass('active');\r\n\t};\r\n\r\n\tself.displayTemplateNameModal = () => {\r\n\t\tangular.element('#template-name-modal').addClass('active');\r\n\t};\r\n\r\n\tself.dismissModal = () => {\r\n\t\tangular.element('.modal-wrapper.active').removeClass('active');\r\n\t};\r\n\r\n\tself.editSkill = skillName => {\r\n\r\n\t\tconst foundSkill = self.skills.filter(skill => skill.name === skillName);\r\n\r\n\t\tif (foundSkill) {\r\n\t\t\tself.skillName = foundSkill[0].name;\r\n\t\t\tself.rangeValue = foundSkill[0].value;\r\n\t\t\tangular.element('#skills-modal').addClass('active');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twarn(\"Skill not found.\", false);\r\n\t};\r\n\r\n\tself.removeSkill = $event => {\r\n\t\r\n\t\tconst $target = angular.element($event.currentTarget),\r\n\t\t\t$row = $target.closest('tr'),\r\n\t\t\tskillName = $target.attr('data-skill-name'),\r\n\t\t\tskillValue = $target.attr('data-skill-value') * 1;\r\n\r\n\t\tself.skillTotal -= skillValue;\r\n\r\n\t\tfor (let i = 0; i < self.skills.length; i++) {\r\n\t\t\tif (self.skills[i].name === skillName) {\t\t\r\n\t\t\t\tself.skills.splice(i, 1);\r\n\t\t\t\t$row.detach();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tself.addSkill = (skill) => {\t\t\r\n\t\tlet existingSkillIndex = -1;\r\n\r\n\t\tfor (let i = 0; i < self.skills.length; i++) {\r\n\t\t\tif (self.skills[i].name === skill.name) {\t\r\n\t\t\t\tself.skillTotal -= self.skills[i].value;\r\n\t\t\t\texistingSkillIndex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t} \r\n\t\t}\r\n\r\n\r\n\t\tif (self.skillTotal + skill.value > self.uoplannerRules.skillTotal) {\r\n\t\t\twarn(aboveSkillCapWarning, true);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!skill.name || skill.value === 0) {\r\n\t\t\twarn(mustActuallySetASkillWarning, true);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (self.skillList.indexOf(skill.name) === -1) {\r\n\t\t\twarn(pickAValidSkillWarning, true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (self.skills[existingSkillIndex]) {\t\r\n\t\t\tself.skills[existingSkillIndex].value = skill.value;\r\n\t\t\tself.skillTotal = self.skillTotal ? skill.value + self.skillTotal : skill.value;\r\n\t\t\tangular.element('.skill-modal .skill-list').slideUp(250);\r\n\t\t\tself.dismissModal();\r\n\t\t\tself.skills = uoplanner.skillSorter.sort(self.skills);\r\n\t\t\twarn(changesNotSavedWarning);\t\r\n\r\n\t\t\treturn;\r\n\t\t} \r\n\t\r\n\t\tself.skills.push(skill);\r\n\t\tself.skillTotal += skill.value;\r\n\t\tself.skills = uoplanner.skillSorter.sort(self.skills);\r\n\t\tangular.element('.skill-modal .skill-list').slideUp(250);\r\n\t\tself.dismissModal();\r\n\t\twarn(changesNotSavedWarning);\r\n\t};\r\n\r\n\tself.setTemplateName = (templateName) => {\t\t\r\n\t\tlet urlName = templateName\r\n\t\t\t.toLowerCase()\r\n\t\t\t.trim()\r\n\t\t\t.replace(/\\s/g, \"_\")\r\n\t\t\t.replace(/\\W/g, \"\")\r\n\t\t\t.replace(/_/g, \"-\")\r\n\t\t\t.replace(/--/g, \"-\");\r\n\r\n\t\tif (urlName) {\r\n\t\t\tisNameCool(templateName, isNaughty => {\r\n\t\t\t\tif (isNaughty) {\r\n\t\t\t\t\twarn(naughtyNameWarning, true);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.templateName = templateName;\r\n\t\t\t\t\tangular.element('#templateName').text(templateName);\r\n\t\t\t\t\tself.dismissModal();\r\n\t\t\t\t\twarn(changesNotSavedWarning);\r\n\t\t\t\t}\t\r\n\t\t\t});\t\t\r\n\t\t} else {\r\n\t\t\twarn(invalidOrMissingNameWarning, true);\r\n\t\t}\t\r\n\t};\r\n\r\n\tself.saveTemplate = () => {\r\n\t\tif (self.templateName && self.skills.length) {\r\n\t\t\ttemplateService.save(self.skills, self.templateName, self.templateId, self.uoplannerRules.ruleSet, query => {\r\n\t\t\t\tself.templateId = query.templateId;\r\n\t\t\t\tself.urlName = query.urlName;\r\n\t\t\t\twarn(templateSavedWarning);\r\n\t\t\t\tupdateSharingLink(self.templateId, self.urlName);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\twarn(mustSetTemplateNameAndSkillsWarning, false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst warn = (message, isModal) => {\r\n\t\t\tconst warningTargetSelector = isModal ? '.panel > .modal-warning' : 'body > .warning';\r\n\r\n\t\t\tlet $warning = angular.element(warningTargetSelector);\r\n\t\t\t$warning.find('p').text(message);\r\n\t\t\t$warning.slideDown(250, () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t$warning.slideUp(250);\r\n\t\t\t\t}, 1500);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tupdateSharingLink = (templateId, urlName) => {\r\n\t\t\tconst url = window.location.origin + `/share/${templateId}/${urlName}`;\r\n\t\t\tangular.element('#sharing .link').removeClass('inactive').text(url);\r\n\t\t\tangular.element('#sharing button').show();\r\n\t\t},\r\n\r\n\t\tisNameCool = (templateName, callback) => {\r\n\t\t\tnaughtyService.isNaughty(templateName, isNaughty => {\r\n\t\t\t\tcallback(isNaughty.isNaughty);\r\n\t\t\t});\r\n\t\t};\r\n}]);","skillsApp.controller('SearchBoxCtrl', ['skillListService', function(skillListService) {\r\n\r\n\tlet self = this;\r\n\r\n\tself.skillTags = [];\t\r\n\r\n\tskillListService.getAll(skills => {\r\n\t\tself.skills = skills;\r\n\t});\r\n\r\n\tself.displaySkillList = () => {\r\n\t\tangular.element('#template-search-modal .skill-list').slideDown(250);\r\n\t};\r\n\r\n\tself.addSkillTag = selectedItem => {\r\n\t\tif (self.skillTags.indexOf(selectedItem.skill) === -1 && self.skillTags.length < 3)\r\n\t\t\tself.skillTags.push(selectedItem.skill);\r\n\r\n\t\tself.skillName = '';\r\n\t\tangular.element('#template-search-modal .skill-list').slideUp(250);\r\n\t};\r\n\r\n\tself.search = () => {\r\n\t\tif (self.skillTags.length) {\r\n\t\t\tconst searchTerms = self.skillTags.join(',');\r\n\t\t\twindow.location = '/search?q=' + searchTerms;\r\n\t\t}\r\n\t};\r\n\r\n}]);\r\n\r\n","skillsApp.controller('SearchCtrl', ['$location', 'searchService', 'skillListService', function($location, searchService, skillListService) {\r\n\r\n\tlet self = this;\r\n\r\n\tself.searchTerms = $location.search().q;\r\n\tself.skillResults = [];\r\n\tself.nameResults = [];\r\n\t\r\n\tsearchService.findSkills(self.searchTerms, skillResults => {\r\nconsole.log(skillResults)\r\n\t\tangular.forEach(skillResults, skillResult => {\r\n\t\t\tlet tempDate = new Date(skillResult.lastModified);\r\n\t\t\tskillResult.lastModified = tempDate.toLocaleDateString() + ' @ ' + tempDate.toLocaleTimeString();\r\n\t\t});\r\n\r\n\t\tself.skillResults = skillResults;\r\n\t});\r\n\r\n}]);","skillsApp.controller('HomeCtrl', ['$http', function($http) {\r\n\r\n\tlet self = this;\r\n\r\n\tself.recentData = [];\r\n\tself.uoplannerRules = uoplanner.ruleManager.getRules()\r\n\r\n\tif (!self.uoplannerRules) uoplanner.ruleManager.setRules();\r\n\r\n\tself.switchRules = function switchRules(ruleSet) {\r\n\t\tuoplanner.ruleManager.setRules(ruleSet);\r\n\r\n\t\tself.uoplannerRules = uoplanner.ruleManager.getRules();\r\n\t\tself.recentData = [];\r\n\r\n\t\tloadTemplates();\r\n\t};\r\n\r\n\tconst loadTemplates = () => {\r\n\t\tself.uoplannerRules = uoplanner.ruleManager.getRules()\r\n\r\n\t\t$http.get(`/api/v1/template/recent/${self.uoplannerRules.ruleSet}`)\r\n\t\t\t.then(\r\n\t\t\t\tsuccessResponse => {\r\n\t\t\t\t\tself.recentData = process(successResponse.data);\r\n\t\t\t\t},\r\n\t\t\t\terrorResponse => {\r\n\t\t\t\t\tconsole.log(errorResponse);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\tconst process = dataArr => {\r\n\t\t\tfor (let i = 0; i < dataArr.length; i++) {\r\n\t\t\t\tlet tempDate = new Date(dataArr[i].lastModified);\r\n\t\t\t\tdataArr[i].lastModified = tempDate.toLocaleDateString() + ' @ ' + tempDate.toLocaleTimeString();\r\n\t\t\t\tdataArr[i].url = `/share/${dataArr[i].templateId}/${dataArr[i].urlName}`;\r\n\t\t\t}\r\n\r\n\t\t\treturn dataArr;\r\n\t\t};\r\n\t};\r\n\r\n\tloadTemplates();\r\n}]);","skillsApp.controller('ShareCtrl', ['templateService', '$location', '$scope', function(templateService, $location, $scope) {\r\n\r\n\tlet self = this;\r\n\r\n\tself.templateId = encodeURIComponent(window.location.pathname.split('/')[2]);\r\n\tself.urlName = encodeURIComponent(window.location.pathname.split('/')[3]);\r\n\tself.shareUrl = window.location.origin + `/share/${self.templateId}/${self.urlName}`;\r\n\r\n\ttemplateService.get(self.templateId, self.urlName, results => {\r\n\t\tself.skills = uoplanner.skillSorter.sort(results.skills);\r\n\t\tself.templateName = results.name;\r\n\t\tself.ruleSet = results.ruleSet;\r\n\t});\r\n\r\n\tangular.element('#sharing button').on('click', (event) => {\r\n\t\tconst $target = angular.element(event.currentTarget);\r\n\r\n\t\t$target.text(\"Copied!\").animate({\r\n\t\t\ttop: \"-20px\",\r\n\t\t\topacity: 0\r\n\t\t}, 250, () => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t$target.text(\"Copy\").animate({\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\topacity: 1\r\n\t\t\t\t}, 250);\r\n\t\t\t}, 500);\r\n\t\t});\r\n\t});\r\n}]);","skillsApp.factory('naughtyService', ['$http', function($http) {\r\n\r\n\tconst isNaughty = (templateName, callback) => {\r\n\r\n\t\t$http.get(\"/api/v1/template/naughty/\" + templateName)\r\n\t\t\t.then(\r\n\t\t\t\tsuccessResponse => {\r\n\t\t\t\t\tcallback(successResponse.data);\r\n\t\t\t\t}, \r\n\t\t\t\terrorResponse => {\r\n\t\t\t\t\tconsole.log(errorResponse);\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\treturn { isNaughty };\r\n\r\n}]);","skillsApp.factory('searchService', ['$http', 'skillListService', function($http, skillListService) {\r\n\r\n\tconst findSkills = (searchTerms, callback) => {\r\n\t\t\t$http.get('/api/v1/search/skills?q=' + searchTerms)\r\n\t\t\t\t.then(\r\n\t\t\t\t\tsuccessResponse => {\r\n\t\t\t\t\t\tcallback(successResponse.data);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terrorResponse => {\r\n\t\t\t\t\t\tconsole.log(errorResponse);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t},\r\n\t\t\r\n\t\tfindNames = (searchTerms, callback) => {\r\n\t\t\t$http.get('/api/v1/search/names?q=' + searchTerms)\r\n\t\t\t\t.then(\r\n\t\t\t\t\tsuccessResponse => {\r\n\t\t\t\t\t\tcallback(successResponse.data);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terrorResponse => {\r\n\t\t\t\t\t\tconsole.log(errorResponse);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t};\r\n\r\n\treturn { findSkills, findNames };\r\n}]);","skillsApp.factory('skillListService', ['$http', function($http) {\r\n\r\n\tconst getAll = (callback) => {\r\n\r\n\t\t$http.get(\"/data/skills.json\")\r\n\t\t\t.then(\r\n\t\t\t\tsuccessResponse => {\r\n\t\t\t\t\tcallback(successResponse.data.skills);\r\n\t\t\t\t}, \r\n\t\t\t\terrorResponse => {\r\n\t\t\t\t\tconsole.log(errorResponse);\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\treturn { getAll };\r\n\r\n}]);","skillsApp.factory('templateService', ['$http', function($http) {\r\n\r\n\tconst save = (skills, templateName, templateId, ruleSet, callback) => {\r\n\r\n\t\tconst postBody = { skills, templateName, templateId, ruleSet, templateId };\r\n\r\n\t\t$http.post(\"/api/v1/template/save\", postBody)\r\n\t\t\t.then(\r\n\t\t\t\tsuccessResponse => {\r\n\t\t\t\t\tcallback(successResponse.data);\r\n\t\t\t\t}, \r\n\t\t\t\terrorResponse => {\r\n\t\t\t\t\tconsole.log(errorResponse);\r\n\t\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\tget = (templateId, urlName, callback) => {\r\n\r\n\t\t\t$http.get(`/api/v1/template/get/${templateId}/${urlName}`)\r\n\t\t\t\t.then(\r\n\t\t\t\t\tsuccessResponse => {\r\n\t\t\t\t\t\tcallback(successResponse.data);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terrorResponse => {\r\n\t\t\t\t\t\tconsole.log(errorResponse);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t};\r\n\r\n\treturn { save, get };\r\n\r\n}]);","skillsApp.directive('rulesetSwitcher', () => {\r\n    const ruleSwitcherController = ['$scope', function ruleSwitcherController($scope) {\r\n        const changeRuleset = (ruleSet) => {\r\n            uoplanner.ruleManager.setRules(ruleSet);\r\n        };\r\n\r\n        return {\r\n            changeRuleset\r\n        };\r\n    }];\r\n\r\n    return {\r\n        templateUrl: 'views/rulesetSwitcher/rulesetSwitcher.html',\r\n        controller: ruleSwitcherController,\r\n        controllerAs: 'vm'\r\n    };\r\n});"]}